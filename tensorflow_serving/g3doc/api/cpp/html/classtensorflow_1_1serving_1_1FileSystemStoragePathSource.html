<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: tensorflow::serving::FileSystemStoragePathSource Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>tensorflow</b></li><li class="navelem"><b>serving</b></li><li class="navelem"><a class="el" href="classtensorflow_1_1serving_1_1FileSystemStoragePathSource.html">FileSystemStoragePathSource</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classtensorflow_1_1serving_1_1FileSystemStoragePathSource-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tensorflow::serving::FileSystemStoragePathSource Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="file__system__storage__path__source_8h_source.html">file_system_storage_path_source.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tensorflow::serving::FileSystemStoragePathSource:</div>
<div class="dyncontent">
<div class="center"><img src="classtensorflow_1_1serving_1_1FileSystemStoragePathSource__inherit__graph.png" border="0" usemap="#atensorflow_1_1serving_1_1FileSystemStoragePathSource_inherit__map" alt="Inheritance graph"/></div>
<map name="atensorflow_1_1serving_1_1FileSystemStoragePathSource_inherit__map" id="atensorflow_1_1serving_1_1FileSystemStoragePathSource_inherit__map">
<area shape="rect" title=" " alt="" coords="5,95,229,136"/>
<area shape="rect" href="classtensorflow_1_1serving_1_1Source.html" title=" " alt="" coords="26,5,209,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for tensorflow::serving::FileSystemStoragePathSource:</div>
<div class="dyncontent">
<div class="center"><img src="classtensorflow_1_1serving_1_1FileSystemStoragePathSource__coll__graph.png" border="0" usemap="#atensorflow_1_1serving_1_1FileSystemStoragePathSource_coll__map" alt="Collaboration graph"/></div>
<map name="atensorflow_1_1serving_1_1FileSystemStoragePathSource_coll__map" id="atensorflow_1_1serving_1_1FileSystemStoragePathSource_coll__map">
<area shape="rect" title=" " alt="" coords="5,95,229,136"/>
<area shape="rect" href="classtensorflow_1_1serving_1_1Source.html" title=" " alt="" coords="26,5,209,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad29df4b1d9628b03723474db5a0d6ad0"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtensorflow_1_1serving_1_1FileSystemStoragePathSource.html#ad29df4b1d9628b03723474db5a0d6ad0">UpdateConfig</a> (const FileSystemStoragePathSourceConfig &amp;config)</td></tr>
<tr class="separator:ad29df4b1d9628b03723474db5a0d6ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f341338d7fe9be5176eb788222df5b0"><td class="memItemLeft" align="right" valign="top"><a id="a3f341338d7fe9be5176eb788222df5b0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetAspiredVersionsCallback</b> (<a class="el" href="classtensorflow_1_1serving_1_1Source.html#aeb281087e1478b0ff4a74e3f60496c6f">AspiredVersionsCallback</a> callback) override</td></tr>
<tr class="separator:a3f341338d7fe9be5176eb788222df5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee923530b9479c220996691a06c464a"><td class="memItemLeft" align="right" valign="top"><a id="a8ee923530b9479c220996691a06c464a"></a>
FileSystemStoragePathSourceConfig&#160;</td><td class="memItemRight" valign="bottom"><b>config</b> () const</td></tr>
<tr class="separator:a8ee923530b9479c220996691a06c464a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classtensorflow_1_1serving_1_1Source"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classtensorflow_1_1serving_1_1Source')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classtensorflow_1_1serving_1_1Source.html">tensorflow::serving::Source&lt; StoragePath &gt;</a></td></tr>
<tr class="memitem:a70d7f3b3ab429deb777d4672c0cec447 inherit pub_methods_classtensorflow_1_1serving_1_1Source"><td class="memItemLeft" align="right" valign="top"><a id="a70d7f3b3ab429deb777d4672c0cec447"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtensorflow_1_1serving_1_1Source.html#a70d7f3b3ab429deb777d4672c0cec447">SetAspiredVersionsCallback</a> (<a class="el" href="classtensorflow_1_1serving_1_1Source.html#aeb281087e1478b0ff4a74e3f60496c6f">AspiredVersionsCallback</a> callback)=0</td></tr>
<tr class="memdesc:a70d7f3b3ab429deb777d4672c0cec447 inherit pub_methods_classtensorflow_1_1serving_1_1Source"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supplies an AspiredVersionsCallback to use. Can be called at most once. <br /></td></tr>
<tr class="separator:a70d7f3b3ab429deb777d4672c0cec447 inherit pub_methods_classtensorflow_1_1serving_1_1Source"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9f8e64bda0d205fd9bb34bf54f18857c"><td class="memItemLeft" align="right" valign="top"><a id="a9f8e64bda0d205fd9bb34bf54f18857c"></a>
static Status&#160;</td><td class="memItemRight" valign="bottom"><b>Create</b> (const FileSystemStoragePathSourceConfig &amp;config, std::unique_ptr&lt; <a class="el" href="classtensorflow_1_1serving_1_1FileSystemStoragePathSource.html">FileSystemStoragePathSource</a> &gt; *result)</td></tr>
<tr class="separator:a9f8e64bda0d205fd9bb34bf54f18857c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0ddc7d29ad0b369a0f70b22e30083d3a"><td class="memItemLeft" align="right" valign="top"><a id="a0ddc7d29ad0b369a0f70b22e30083d3a"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>internal::FileSystemStoragePathSourceTestAccess</b></td></tr>
<tr class="separator:a0ddc7d29ad0b369a0f70b22e30083d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classtensorflow_1_1serving_1_1Source"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classtensorflow_1_1serving_1_1Source')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classtensorflow_1_1serving_1_1Source.html">tensorflow::serving::Source&lt; StoragePath &gt;</a></td></tr>
<tr class="memitem:aeb281087e1478b0ff4a74e3f60496c6f inherit pub_types_classtensorflow_1_1serving_1_1Source"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtensorflow_1_1serving_1_1Source.html#aeb281087e1478b0ff4a74e3f60496c6f">AspiredVersionsCallback</a> = std::function&lt; void(const StringPiece servable_name, std::vector&lt; <a class="el" href="classtensorflow_1_1serving_1_1ServableData.html">ServableData</a>&lt; StoragePath &gt; &gt; versions)&gt;</td></tr>
<tr class="separator:aeb281087e1478b0ff4a74e3f60496c6f inherit pub_types_classtensorflow_1_1serving_1_1Source"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A storage path source that aspires versions for a given set of servables. For each servable, it monitors a given file-system base path. It identifies base-path children whose name is a number (e.g. 123) and emits the path corresponding to the largest number as the servable's single aspired version. (To do the file-system monitoring, it uses a background thread that polls the file system periodically.)</p>
<p>For example, if a configured servable's base path is /foo/bar, and a file- system poll reveals child paths /foo/bar/baz, /foo/bar/123 and /foo/bar/456, the aspired-versions callback is called with {456, "/foo/bar/456"}. If, at any time, the base path is found to contain no numerical children, the aspired-versions callback is called with an empty versions list.</p>
<p>The configured set of servables to monitor can be updated at any time by calling <a class="el" href="classtensorflow_1_1serving_1_1FileSystemStoragePathSource.html#ad29df4b1d9628b03723474db5a0d6ad0">UpdateConfig()</a>. If any servables were present in the old config but not in the new one, the source will immediately aspire zero versions for that servable (causing it to be unloaded in the <a class="el" href="classtensorflow_1_1serving_1_1Manager.html">Manager</a> that ultimately consumes the aspired-versions calls). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad29df4b1d9628b03723474db5a0d6ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad29df4b1d9628b03723474db5a0d6ad0">&#9670;&nbsp;</a></span>UpdateConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status tensorflow::serving::FileSystemStoragePathSource::UpdateConfig </td>
          <td>(</td>
          <td class="paramtype">const FileSystemStoragePathSourceConfig &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Supplies a new config to use. The set of servables to monitor can be changed at any time (see class comment for more information), but it is illegal to change the file-system polling period once SetAspiredVersionsCallback() has been called. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>tensorflow_serving/sources/storage_path/<a class="el" href="file__system__storage__path__source_8h_source.html">file_system_storage_path_source.h</a></li>
<li>tensorflow_serving/sources/storage_path/file_system_storage_path_source.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
